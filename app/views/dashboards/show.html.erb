<%= turbo_frame_tag "main_content" do %>
  <div class="dashboard-wrapper">
    
    <section class="stats-grid">
      <div class="stat-card">
        <span class="stat-icon">ðŸ“‹</span>
        <div class="stat-value"><%= @active_plans_count %></div>
        <div class="stat-label">Active Plans</div>
      </div>

      <div class="stat-card">
        <span class="stat-icon">ðŸ“¦</span>
        <div class="stat-value"><%= @materials_needed_count %></div>
        <div class="stat-label">Materials Needed</div>
      </div>

      <div class="stat-card">
        <span class="stat-icon">âš¡</span>
        <div class="stat-value"><%= @farming_progress %>%</div>
        <div class="stat-label">Farming Progress</div>
      </div>

      <div class="stat-card">
        <span class="stat-icon">ðŸ“…</span>
        <div class="stat-value"><%= @estimated_days %></div>
        <div class="stat-label">Days Left</div>
      </div>
    </section>

    <div class="dashboard-content-layout">
      <div class="dashboard-main">
        <div class="section-header">
          <h2>Recent Plans</h2>
          <%= link_to "View All â†’", plans_path, data: { turbo_action: "advance" } %>
        </div>
        
        <div class="recent-plans-list">
          <%= render @recent_plans %>
          <% if @recent_plans.empty? %>
            <p class="empty-text">No plans created yet. Start one in the Planner!</p>
          <% end %>
        </div>
      </div>

      <aside class="dashboard-sidebar">
        <h3>Quick Actions</h3>
        <%= link_to "New Plan", new_plan_path, data: { turbo_frame: "modal" }, class: "action-card" %>
        <%= link_to "Inventory", inventory_items_path, class: "action-card" %>
      </aside>
    </div>

  </div>
<% end %>