<div class="forte-column <%= 'inherent-node' if config[:inherent] %>">

  <%# Tier 2 Node %>
  <label class="node-label cursor-pointer">
    <%= f.check_box "#{config[:key]}_node_2",
                { class: "peer hidden" },
                1,
                0 %>
    <div class="node-circle node-2">
      <span>✱</span>
    </div>
  </label>

  <div class="node-connector"></div>

  <%# Tier 1 Node %>
  <label class="node-label cursor-pointer">
    <%= f.check_box "#{config[:key]}_node_1",
                { class: "peer hidden" },
                1,
                0 %>
    <div class="node-circle node-1">
      <span>✱</span>
    </div>
  </label>

  <div class="node-connector"></div>

  <%# Skill Node (Diamond) %>
  <div class="node-diamond">
    <span>✱</span>
  </div>

  <%# Skill Level Indicators (1 -> 10) %>
  <div class="skill-level-text">
    <%# Current Value (connected to first slider) %>
    <span id="<%= config[:key] %>_current_val">
      <%= f.object.send("#{config[:key]}_current") %>
    </span>
    <span>→</span>
    <%# Target Value (connected to second slider) %>
    <span id="<%= config[:key] %>_target_val">
      <%= f.object.send("#{config[:key]}_target") %>
    </span>
  </div>

  <%# Slider Group Container %>
  <div class="flex flex-col gap-1 w-full items-center">

    <%# Current Slider %>
    <div data-controller="slider" class="w-full">
      <%= f.range_field "#{config[:key]}_current",
                    min: 1, max: 10,
                    class: "skill-slider",
                    data: {
                      slider_target: "input",
                      action: "input->slider#update",
                    } %>

      <%# Hidden label target to link to the span above %>
      <span
        class="hidden"
        data-slider-target="label"
        data-link-id="<%= config[:key] %>_current_val"
      ></span>

    </div>

    <%# Target Slider %>
    <div data-controller="slider" class="w-full">
      <%= f.range_field "#{config[:key]}_target",
                    min: 1, max: 10,
                    class: "skill-slider",
                    data: {
                      slider_target: "input",
                      action: "input->slider#update",
                    } %>

      <%# Hidden label target to link to the span above %>
      <span
        class="hidden"
        data-slider-target="label"
        data-link-id="<%= config[:key] %>_target_val"
      ></span>

    </div>
  </div>

</div>
