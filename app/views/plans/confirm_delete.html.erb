<%= turbo_frame_tag "modal" do %>
  <div class="confirm-delete-overlay" data-controller="modal" data-action="click->modal#closeOutside">
    <div class="confirm-delete-content delete-confirmation">
      
      <%# Warning Icon %>
      <div class="confirm-delete-icon-wrapper danger">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </div>

      <h3 class="confirm-delete-title">Delete Plan?</h3>
      <p class="confirm-delete-description">
        Are you sure you want to delete the plan for
        <span class="subject-highlight"><%= @plan.plan_data.dig("input", "subject_name") %></span>?
        <span class="warning-subtext">This cannot be undone.</span>
      </p>

      <div class="confirm-delete-actions">
        <%# Cancel Button %>
        <button type="button" class="btn btn-secondary" data-action="click->modal#close">
          Cancel
        </button>

        <%# Delete Button %>
        <%= button_to "Confirm", plan_path(@plan), 
            method: :delete, 
            class: "btn btn-danger" %>
      </div>
    </div>
  </div>
<% end %>